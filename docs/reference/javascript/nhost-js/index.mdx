## Classes

### NhostClient

Main client class that provides access to all Nhost services (auth, storage, graphql)

#### Constructors

##### Constructor

```ts
new NhostClient(options: NhostClientOptions): NhostClient;
```

Create a new Nhost client

###### Parameters

| Parameter | Type                                        | Description                          |
| --------- | ------------------------------------------- | ------------------------------------ |
| `options` | [`NhostClientOptions`](#nhostclientoptions) | Configuration options for the client |

###### Returns

[`NhostClient`](#nhostclient)

#### Properties

| Property                                     | Type                                                                                                                                                                                                                                                                      | Description                                                                                   |
| -------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| <a id="auth"></a> `auth`                     | `object`                                                                                                                                                                                                                                                                  | Authentication client providing methods for user sign-in, sign-up, and session management     |
| `auth.baseURL`                               | `string`                                                                                                                                                                                                                                                                  | -                                                                                             |
| `auth.changeUserMfa`                         | (`options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;[`TotpGenerateResponse`](auth.mdx#totpgenerateresponse)&gt;&gt;                                                                                                                  | -                                                                                             |
| `auth.changeUserMfaVerify`                   | (`userMfaRequest`: [`UserMfaRequest`](auth.mdx#usermfarequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;`"OK"`&gt;&gt;                                                                                                    | -                                                                                             |
| `auth.getVersion`                            | (`options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;[`GetVersion200`](auth.mdx#getversion200)&gt;&gt;                                                                                                                                | -                                                                                             |
| `auth.healthCheckGet`                        | (`options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;`"OK"`&gt;&gt;                                                                                                                                                                   | -                                                                                             |
| `auth.healthCheckHead`                       | (`options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;`void`&gt;&gt;                                                                                                                                                                   | -                                                                                             |
| `auth.pushChainFunction`                     | (`chainFunction`: `ChainFunction`) => `void`                                                                                                                                                                                                                              | -                                                                                             |
| `auth.refreshToken`                          | (`refreshTokenRequest`: [`RefreshTokenRequest`](auth.mdx#refreshtokenrequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;[`Session`](auth.mdx#session)&gt;&gt;                                                              | -                                                                                             |
| `auth.signInEmailPassword`                   | (`signInEmailPasswordRequest`: [`SignInEmailPasswordRequest`](auth.mdx#signinemailpasswordrequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;[`SignInEmailPasswordResponse`](auth.mdx#signinemailpasswordresponse)&gt;&gt; | -                                                                                             |
| `auth.signInPasswordlessEmail`               | (`signInPasswordlessEmailRequest`: [`SignInPasswordlessEmailRequest`](auth.mdx#signinpasswordlessemailrequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;`"OK"`&gt;&gt;                                                    | -                                                                                             |
| `auth.signInVerifyMfaTotp`                   | (`signInMfaTotpRequest`: [`SignInMfaTotpRequest`](auth.mdx#signinmfatotprequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;[`SessionPayload`](auth.mdx#sessionpayload)&gt;&gt;                                             | -                                                                                             |
| `auth.signOut`                               | (`signOutSchema`: [`SignOutSchema`](auth.mdx#signoutschema), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;`"OK"`&gt;&gt;                                                                                                       | -                                                                                             |
| `auth.signUpEmailPassword`                   | (`signUpEmailPasswordRequest`: [`SignUpEmailPasswordRequest`](auth.mdx#signupemailpasswordrequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](auth.mdx#fetchresponse)&lt;[`SessionPayload`](auth.mdx#sessionpayload)&gt;&gt;                           | -                                                                                             |
| <a id="graphql"></a> `graphql`               | `object`                                                                                                                                                                                                                                                                  | GraphQL client providing methods for executing GraphQL operations against your Hasura backend |
| `graphql.mutation`                           | (`request`: [`GraphQLRequest`](graphql.mdx#graphqlrequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](graphql.mdx#fetchresponse)&lt;[`GraphQLResponse`](graphql.mdx#graphqlresponse)&lt;`any`&gt;&gt;&gt;                                              | -                                                                                             |
| `graphql.query`                              | (`request`: [`GraphQLRequest`](graphql.mdx#graphqlrequest), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](graphql.mdx#fetchresponse)&lt;[`GraphQLResponse`](graphql.mdx#graphqlresponse)&lt;`any`&gt;&gt;&gt;                                              | -                                                                                             |
| <a id="sessionstorage"></a> `sessionStorage` | [`StorageInterface`](auth.mdx#storageinterface)                                                                                                                                                                                                                           | Storage implementation used for persisting session information                                |
| <a id="storage"></a> `storage`               | `object`                                                                                                                                                                                                                                                                  | Storage client providing methods for file operations (upload, download, delete)               |
| `storage.baseURL`                            | `string`                                                                                                                                                                                                                                                                  | -                                                                                             |
| `storage.deleteFile`                         | (`id`: `string`, `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;`void`&gt;&gt;                                                                                                                                                | -                                                                                             |
| `storage.getFile`                            | (`id`: `string`, `params?`: [`GetFileParams`](storage.mdx#getfileparams), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;`Blob`&gt;&gt;                                                                                       | -                                                                                             |
| `storage.getFileMetadataHeaders`             | (`id`: `string`, `params?`: [`GetFileMetadataHeadersParams`](storage.mdx#getfilemetadataheadersparams), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;`void`&gt;&gt;                                                         | -                                                                                             |
| `storage.getOpenAPISpec`                     | (`options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;[`GetOpenAPISpec200`](storage.mdx#getopenapispec200)&gt;&gt;                                                                                                                  | -                                                                                             |
| `storage.getVersion`                         | (`options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;[`VersionInformation`](storage.mdx#versioninformation)&gt;&gt;                                                                                                                | -                                                                                             |
| `storage.pushChainFunction`                  | (`chainFunction`: `ChainFunction`) => `void`                                                                                                                                                                                                                              | -                                                                                             |
| `storage.replaceFile`                        | (`id`: `string`, `replaceFileBody`: [`ReplaceFileBody`](storage.mdx#replacefilebody), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;[`FileMetadata`](storage.mdx#filemetadata)&gt;&gt;                                       | -                                                                                             |
| `storage.uploadFiles`                        | (`uploadFilesBody`: [`UploadFilesBody`](storage.mdx#uploadfilesbody), `options?`: `RequestInit`) => `Promise`&lt;[`FetchResponse`](storage.mdx#fetchresponse)&lt;[`UploadFiles201`](storage.mdx#uploadfiles201)&gt;&gt;                                                   | -                                                                                             |

#### Methods

##### getUserSession()

```ts
getUserSession(): null | Session;
```

Get the current session from storage

###### Returns

`null` \| [`Session`](auth.mdx#session)

The current session or null if no session exists

##### refreshSession()

```ts
refreshSession(): Promise<null | Session>;
```

Refresh the session using the current refresh token
in the storage and update the storage with the new session

###### Returns

`Promise`&lt;`null` \| [`Session`](auth.mdx#session)&gt;

The new session or an error if the refresh fails

## Interfaces

### NhostClientOptions

Configuration options for creating an Nhost client

#### Properties

| Property                              | Type                                            | Description                                                            |
| ------------------------------------- | ----------------------------------------------- | ---------------------------------------------------------------------- |
| <a id="authurl"></a> `authUrl?`       | `string`                                        | Complete base URL for the auth service (overrides subdomain/region)    |
| <a id="graphqlurl"></a> `graphqlUrl?` | `string`                                        | Complete base URL for the GraphQL service (overrides subdomain/region) |
| <a id="region"></a> `region?`         | `string`                                        | Nhost region (e.g., 'eu-central-1')                                    |
| <a id="storage-1"></a> `storage?`     | [`StorageInterface`](auth.mdx#storageinterface) | Storage implementation to use for session persistence                  |
| <a id="storageurl"></a> `storageUrl?` | `string`                                        | Complete base URL for the storage service (overrides subdomain/region) |
| <a id="subdomain"></a> `subdomain?`   | `string`                                        | Nhost project subdomain (e.g., 'abcdefgh')                             |

## Functions

### createClient()

```ts
function createClient(options: NhostClientOptions): NhostClient;
```

Creates and configures a new Nhost client instance

This is the recommended way to initialize the Nhost SDK in your application.

#### Parameters

| Parameter | Type                                        | Description                          |
| --------- | ------------------------------------------- | ------------------------------------ |
| `options` | [`NhostClientOptions`](#nhostclientoptions) | Configuration options for the client |

#### Returns

[`NhostClient`](#nhostclient)

A configured Nhost client

#### Example

```typescript
import { createClient } from "nhost-js";

const nhost = createClient({
  subdomain: "your-project",
  region: "eu-central-1",
});

// Now you can use nhost.auth, nhost.storage, and nhost.graphql
```

---

### generateServiceUrl()

```ts
function generateServiceUrl(
  serviceType: "auth" | "storage" | "graphql",
  customUrl?: string,
  subdomain?: string,
  region?: string,
): string;
```

Generates a base URL for a Nhost service based on configuration

#### Parameters

| Parameter     | Type                                   | Description                              |
| ------------- | -------------------------------------- | ---------------------------------------- |
| `serviceType` | `"auth"` \| `"storage"` \| `"graphql"` | Type of service (auth, storage, graphql) |
| `customUrl?`  | `string`                               | Custom URL override if provided          |
| `subdomain?`  | `string`                               | Nhost project subdomain                  |
| `region?`     | `string`                               | Nhost region                             |

#### Returns

`string`

The base URL for the service
