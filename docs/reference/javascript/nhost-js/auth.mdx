This is the main module to interact with Nhost's Auth service.
Typically you would use this modula via the main [Nhost client](main#createclient)
but you can also use it directly if you have a specific use case.

## Error handling

The SDK will throw errors in most operations if the request return a status >=400 or
if the request fails entirely (i.e., due to network errors). A continuation you can see
how you can handle errors thrown by the SDK when the status is >=400.

```ts
// Needs the following imports:
//
// import {
//   type ErrorResponse,
// } from "@nhost/nhost-js/auth";
// import {
//   type FetchError,
// } from "@nhost/nhost-js/fetch";
//
const nhost = createClient({
  subdomain,
  region,
});
try {
  await nhost.auth.signInEmailPassword({
    email,
    password,
  });

  expect(true).toBe(false); // This should not be reached
} catch (error) {
  const err = error as FetchError<ErrorResponse>;
  console.log("Error:", err);
  // Error: {
  //   body: {
  //     error: 'invalid-email-password',
  //     message: 'Incorrect email or password',
  //     status: 401
  //   },
  //   status: 401,
  //   headers: {
  //     'content-length': '88',
  //     'content-type': 'application/json',
  //     date: 'Mon, 12 May 2025 08:08:28 GMT'
  //   }
  // }

  // error handling...
```

## Interfaces

### Client

Authentication client interface providing methods for user sign-in, sign-up, and session management

#### Properties

##### baseURL

```ts
baseURL: string;
```

Base URL for the authentication service

##### changeUserEmail()

```ts
changeUserEmail: (
  userEmailChangeRequest: UserEmailChangeRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Change user email

###### Parameters

| Parameter                | Type                                                |
| ------------------------ | --------------------------------------------------- |
| `userEmailChangeRequest` | [`UserEmailChangeRequest`](#useremailchangerequest) |
| `options?`               | `RequestInit`                                       |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### changeUserMfa()

```ts
changeUserMfa: (options?: RequestInit) =>
  Promise<FetchResponse<TotpGenerateResponse>>;
```

Generate a Time-based One-Time Password (TOTP) secret for setting up multi-factor authentication

###### Parameters

| Parameter  | Type          |
| ---------- | ------------- |
| `options?` | `RequestInit` |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`TotpGenerateResponse`](#totpgenerateresponse)&gt;&gt;

##### changeUserMfaVerify()

```ts
changeUserMfaVerify: (userMfaRequest: UserMfaRequest, options?: RequestInit) =>
  Promise<FetchResponse<"OK">>;
```

Activate or deactivate multi-factor authentication for the authenticated user

###### Parameters

| Parameter        | Type                                |
| ---------------- | ----------------------------------- |
| `userMfaRequest` | [`UserMfaRequest`](#usermfarequest) |
| `options?`       | `RequestInit`                       |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### changeUserPassword()

```ts
changeUserPassword: (
  userPasswordRequest: UserPasswordRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Change user password

###### Parameters

| Parameter             | Type                                          |
| --------------------- | --------------------------------------------- |
| `userPasswordRequest` | [`UserPasswordRequest`](#userpasswordrequest) |
| `options?`            | `RequestInit`                                 |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### createPAT()

```ts
createPAT: (createPATRequest: CreatePATRequest, options?: RequestInit) =>
  Promise<FetchResponse<CreatePATResponse>>;
```

Create a Personal Access Token (PAT)

###### Parameters

| Parameter          | Type                                    |
| ------------------ | --------------------------------------- |
| `createPATRequest` | [`CreatePATRequest`](#createpatrequest) |
| `options?`         | `RequestInit`                           |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`CreatePATResponse`](#createpatresponse)&gt;&gt;

##### deanonymizeUser()

```ts
deanonymizeUser: (
  userDeanonymizeRequest: UserDeanonymizeRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Deanonymize an anonymous user by adding missing email or email+password

###### Parameters

| Parameter                | Type                                                |
| ------------------------ | --------------------------------------------------- |
| `userDeanonymizeRequest` | [`UserDeanonymizeRequest`](#userdeanonymizerequest) |
| `options?`               | `RequestInit`                                       |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### getJWKs()

```ts
getJWKs: (options?: RequestInit) => Promise<FetchResponse<JWKSet>>;
```

Get public keys for JWT verification in JWK Set format

###### Parameters

| Parameter  | Type          |
| ---------- | ------------- |
| `options?` | `RequestInit` |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`JWKSet`](#jwkset)&gt;&gt;

##### getVersion()

```ts
getVersion: (options?: RequestInit) =>
  Promise<FetchResponse<GetVersionResponse200>>;
```

Retrieve version information about the authentication service

###### Parameters

| Parameter  | Type          |
| ---------- | ------------- |
| `options?` | `RequestInit` |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`GetVersionResponse200`](#getversionresponse200)&gt;&gt;

##### healthCheckGet()

```ts
healthCheckGet: (options?: RequestInit) => Promise<FetchResponse<"OK">>;
```

Verify if the authentication service is operational using GET method

###### Parameters

| Parameter  | Type          |
| ---------- | ------------- |
| `options?` | `RequestInit` |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### healthCheckHead()

```ts
healthCheckHead: (options?: RequestInit) => Promise<FetchResponse<void>>;
```

Verify if the authentication service is operational using HEAD method

###### Parameters

| Parameter  | Type          |
| ---------- | ------------- |
| `options?` | `RequestInit` |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`void`&gt;&gt;

##### linkIdToken()

```ts
linkIdToken: (linkIdTokenRequest: LinkIdTokenRequest, options?: RequestInit) =>
  Promise<FetchResponse<"OK">>;
```

Link a user account with the provider's account using an id token

###### Parameters

| Parameter            | Type                                        |
| -------------------- | ------------------------------------------- |
| `linkIdTokenRequest` | [`LinkIdTokenRequest`](#linkidtokenrequest) |
| `options?`           | `RequestInit`                               |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### pushChainFunction()

```ts
pushChainFunction: (chainFunction: ChainFunction) => void;
```

Add a middleware function to the request chain

###### Parameters

| Parameter       | Type                                       | Description                |
| --------------- | ------------------------------------------ | -------------------------- |
| `chainFunction` | [`ChainFunction`](fetch#chainfunction) | Middleware function to add |

###### Returns

`void`

##### refreshToken()

```ts
refreshToken: (
  refreshTokenRequest: RefreshTokenRequest,
  options?: RequestInit,
) => Promise<FetchResponse<Session>>;
```

Generate a new JWT access token using a valid refresh token

###### Parameters

| Parameter             | Type                                          |
| --------------------- | --------------------------------------------- |
| `refreshTokenRequest` | [`RefreshTokenRequest`](#refreshtokenrequest) |
| `options?`            | `RequestInit`                                 |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`Session`](#session)&gt;&gt;

##### sendPasswordResetEmail()

```ts
sendPasswordResetEmail: (
  userPasswordResetRequest: UserPasswordResetRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Request a password reset

###### Parameters

| Parameter                  | Type                                                    |
| -------------------------- | ------------------------------------------------------- |
| `userPasswordResetRequest` | [`UserPasswordResetRequest`](#userpasswordresetrequest) |
| `options?`                 | `RequestInit`                                           |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### sendVerificationEmail()

```ts
sendVerificationEmail: (
  userEmailSendVerificationEmailRequest: UserEmailSendVerificationEmailRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Send verification email

###### Parameters

| Parameter                               | Type                                                                              |
| --------------------------------------- | --------------------------------------------------------------------------------- |
| `userEmailSendVerificationEmailRequest` | [`UserEmailSendVerificationEmailRequest`](#useremailsendverificationemailrequest) |
| `options?`                              | `RequestInit`                                                                     |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### signInAnonymous()

```ts
signInAnonymous: (
  signinAnonymousRequest?: SignInAnonymousRequest,
  options?: RequestInit,
) => Promise<FetchResponse<SessionPayload>>;
```

Sign in anonymously

###### Parameters

| Parameter                 | Type                                                |
| ------------------------- | --------------------------------------------------- |
| `signinAnonymousRequest?` | [`SignInAnonymousRequest`](#signinanonymousrequest) |
| `options?`                | `RequestInit`                                       |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SessionPayload`](#sessionpayload)&gt;&gt;

##### signInEmailPassword()

```ts
signInEmailPassword: (
  signInEmailPasswordRequest: SignInEmailPasswordRequest,
  options?: RequestInit,
) => Promise<FetchResponse<SignInEmailPasswordResponse>>;
```

Authenticate a user with their email and password

###### Parameters

| Parameter                    | Type                                                        |
| ---------------------------- | ----------------------------------------------------------- |
| `signInEmailPasswordRequest` | [`SignInEmailPasswordRequest`](#signinemailpasswordrequest) |
| `options?`                   | `RequestInit`                                               |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SignInEmailPasswordResponse`](#signinemailpasswordresponse)&gt;&gt;

##### signInIdToken()

```ts
signInIdToken: (
  signInIdTokenRequest: SignInIdTokenRequest,
  options?: RequestInit,
) => Promise<FetchResponse<SessionPayload>>;
```

Sign in with an id token

###### Parameters

| Parameter              | Type                                            |
| ---------------------- | ----------------------------------------------- |
| `signInIdTokenRequest` | [`SignInIdTokenRequest`](#signinidtokenrequest) |
| `options?`             | `RequestInit`                                   |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SessionPayload`](#sessionpayload)&gt;&gt;

##### signInOTPEmail()

```ts
signInOTPEmail: (
  signInOTPEmailRequest: SignInOTPEmailRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Sign in with a one time password sent to user's email

###### Parameters

| Parameter               | Type                                              |
| ----------------------- | ------------------------------------------------- |
| `signInOTPEmailRequest` | [`SignInOTPEmailRequest`](#signinotpemailrequest) |
| `options?`              | `RequestInit`                                     |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### signInPasswordlessEmail()

```ts
signInPasswordlessEmail: (
  signInPasswordlessEmailRequest: SignInPasswordlessEmailRequest,
  options?: RequestInit,
) => Promise<FetchResponse<"OK">>;
```

Initiate passwordless authentication by sending a magic link to the user's email

###### Parameters

| Parameter                        | Type                                                                |
| -------------------------------- | ------------------------------------------------------------------- |
| `signInPasswordlessEmailRequest` | [`SignInPasswordlessEmailRequest`](#signinpasswordlessemailrequest) |
| `options?`                       | `RequestInit`                                                       |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### signInPAT()

```ts
signInPAT: (signInPATRequest: SignInPATRequest, options?: RequestInit) =>
  Promise<FetchResponse<SessionPayload>>;
```

Sign in with Personal Access Token (PAT)

###### Parameters

| Parameter          | Type                                    |
| ------------------ | --------------------------------------- |
| `signInPATRequest` | [`SignInPATRequest`](#signinpatrequest) |
| `options?`         | `RequestInit`                           |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SessionPayload`](#sessionpayload)&gt;&gt;

##### signInProviderURL()

```ts
signInProviderURL: (
  provider: "apple" | "github" | "google" | "linkedin" | "discord" | "spotify",
  params?: SignInProviderParams,
  options?: RequestInit,
) => string;
```

This method returns a redirect URL to send the user to for signing in with an OAuth2 provider.

###### Parameters

| Parameter  | Type                                                                                |
| ---------- | ----------------------------------------------------------------------------------- |
| `provider` | `"apple"` \| `"github"` \| `"google"` \| `"linkedin"` \| `"discord"` \| `"spotify"` |
| `params?`  | [`SignInProviderParams`](#signinproviderparams)                                     |
| `options?` | `RequestInit`                                                                       |

###### Returns

`string`

##### signInVerifyMfaTotp()

```ts
signInVerifyMfaTotp: (
  signInMfaTotpRequest: SignInMfaTotpRequest,
  options?: RequestInit,
) => Promise<FetchResponse<SessionPayload>>;
```

Complete the multi-factor authentication by verifying a Time-based One-Time Password (TOTP)

###### Parameters

| Parameter              | Type                                            |
| ---------------------- | ----------------------------------------------- |
| `signInMfaTotpRequest` | [`SignInMfaTotpRequest`](#signinmfatotprequest) |
| `options?`             | `RequestInit`                                   |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SessionPayload`](#sessionpayload)&gt;&gt;

##### signOut()

```ts
signOut: (signOutSchema: SignOutSchema, options?: RequestInit) =>
  Promise<FetchResponse<"OK">>;
```

Sign out the current user

###### Parameters

| Parameter       | Type                              |
| --------------- | --------------------------------- |
| `signOutSchema` | [`SignOutSchema`](#signoutschema) |
| `options?`      | `RequestInit`                     |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;`"OK"`&gt;&gt;

##### signUpEmailPassword()

```ts
signUpEmailPassword: (
  signUpEmailPasswordRequest: SignUpEmailPasswordRequest,
  options?: RequestInit,
) => Promise<FetchResponse<SessionPayload>>;
```

Register a new user account with email and password

###### Parameters

| Parameter                    | Type                                                        |
| ---------------------------- | ----------------------------------------------------------- |
| `signUpEmailPasswordRequest` | [`SignUpEmailPasswordRequest`](#signupemailpasswordrequest) |
| `options?`                   | `RequestInit`                                               |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SessionPayload`](#sessionpayload)&gt;&gt;

##### verifySignInOTPEmail()

```ts
verifySignInOTPEmail: (
  signInOTPEmailVerifyRequest: SignInOTPEmailVerifyRequest,
  options?: RequestInit,
) => Promise<FetchResponse<SignInOTPEmailVerifyResponse>>;
```

Verify OTP and return a session if validation is successful

###### Parameters

| Parameter                     | Type                                                          |
| ----------------------------- | ------------------------------------------------------------- |
| `signInOTPEmailVerifyRequest` | [`SignInOTPEmailVerifyRequest`](#signinotpemailverifyrequest) |
| `options?`                    | `RequestInit`                                                 |

###### Returns

`Promise`&lt;[`FetchResponse`](fetch#fetchresponse)&lt;[`SignInOTPEmailVerifyResponse`](#signinotpemailverifyresponse)&gt;&gt;

##### verifyTicketURL()

```ts
verifyTicketURL: (params: VerifyTicketParams, options?: RequestInit) => string;
```

Verify tickets created by email verification, magic link, or password reset

This method returns a redirect URL to send the user to after verifying the ticket.

###### Parameters

| Parameter  | Type                                        |
| ---------- | ------------------------------------------- |
| `params`   | [`VerifyTicketParams`](#verifyticketparams) |
| `options?` | `RequestInit`                               |

###### Returns

`string`

---

### CreatePATRequest

#### Properties

##### expiresAt

```ts
expiresAt: string;
```

Expiration date of the PAT

- Format - date-time

##### metadata?

```ts
optional metadata: Record<string, unknown>;
```

- Example - {"name":"my-pat","used-by":"my-app-cli"}

---

### CreatePATResponse

#### Properties

##### id

```ts
id: string;
```

ID of the PAT

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

##### personalAccessToken

```ts
personalAccessToken: string;
```

PAT

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

---

### ErrorResponse

Standardized error response

#### Properties

##### error

```ts
error: ErrorResponseError;
```

Error code identifying the specific application error

##### message

```ts
message: string;
```

Human-friendly error message

- Example - "Invalid email format"

##### status

```ts
status: number;
```

HTTP status error code

- Example - 400

---

### GetVersionResponse200

#### Properties

##### version

```ts
version: string;
```

The version of the authentication service

- Example - "1.2.3"

---

### JWK

JSON Web Key for JWT verification

#### Properties

##### alg

```ts
alg: string;
```

Algorithm used with this key

- Example - "RS256"

##### e

```ts
e: string;
```

RSA public exponent

- Example - "AQAB"

##### kid

```ts
kid: string;
```

Key ID

- Example - "key-id-1"

##### kty

```ts
kty: string;
```

Key type

- Example - "RSA"

##### n

```ts
n: string;
```

RSA modulus

- Example - "abcd1234..."

##### use

```ts
use: string;
```

Key usage

- Example - "sig"

---

### JWKSet

JSON Web Key Set for verifying JWT signatures

#### Properties

##### keys

```ts
keys: JWK[];
```

Array of public keys

---

### LinkIdTokenRequest

#### Properties

##### idToken

```ts
idToken: string;
```

Apple ID token

##### nonce?

```ts
optional nonce: string;
```

Nonce used during sign in process

##### provider

```ts
provider: IdTokenProvider;
```

---

### MFAChallengePayload

Challenge payload for multi-factor authentication

#### Properties

##### ticket

```ts
ticket: string;
```

Ticket to use when completing the MFA challenge

- Example - "mfaTotp:abc123def456"

---

### OptionsRedirectTo

#### Properties

##### redirectTo?

```ts
optional redirectTo: string;
```

- Example - "https://my-app.com/catch-redirection"
- Format - uri

---

### RefreshTokenRequest

Request to refresh an access token

#### Properties

##### refreshToken

```ts
refreshToken: string;
```

Refresh token used to generate a new access token

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

---

### Session

User authentication session containing tokens and user information

#### Properties

##### accessToken

```ts
accessToken: string;
```

JWT token for authenticating API requests

- Example - "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

##### accessTokenExpiresIn

```ts
accessTokenExpiresIn: number;
```

Expiration time of the access token in seconds

- Example - 900
- Format - int64

##### refreshToken

```ts
refreshToken: string;
```

Token used to refresh the access token

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

##### refreshTokenId

```ts
refreshTokenId: string;
```

Identifier for the refresh token

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

##### user?

```ts
optional user: User;
```

User profile and account information

---

### SessionPayload

Container for session information

#### Properties

##### session?

```ts
optional session: Session;
```

User authentication session containing tokens and user information

---

### SignInAnonymousRequest

#### Properties

##### displayName?

```ts
optional displayName: string;
```

- Example - "John Smith"

##### locale?

```ts
optional locale: string;
```

A two-characters locale

- Example - "en"
- MinLength - 2
- MaxLength - 2

##### metadata?

```ts
optional metadata: Record<string, unknown>;
```

- Example - {"firstName":"John","lastName":"Smith"}

---

### SignInEmailPasswordRequest

Request to authenticate using email and password

#### Properties

##### email

```ts
email: string;
```

User's email address

- Example - "john.smith@nhost.io"
- Format - email

##### password

```ts
password: string;
```

User's password

- Example - "Str0ngPassw#ord-94|%"
- MinLength - 3
- MaxLength - 50

---

### SignInEmailPasswordResponse

Response for email-password authentication that may include a session or MFA challenge

#### Properties

##### mfa?

```ts
optional mfa: MFAChallengePayload;
```

Challenge payload for multi-factor authentication

##### session?

```ts
optional session: Session;
```

User authentication session containing tokens and user information

---

### SignInIdTokenRequest

#### Properties

##### idToken

```ts
idToken: string;
```

Apple ID token

##### nonce?

```ts
optional nonce: string;
```

Nonce used during sign in process

##### options?

```ts
optional options: SignUpOptions;
```

##### provider

```ts
provider: IdTokenProvider;
```

---

### SignInMfaTotpRequest

#### Properties

##### otp

```ts
otp: string;
```

One time password

##### ticket

```ts
ticket: string;
```

Ticket

- Pattern - ^mfaTotp:.\*$

---

### SignInOTPEmailRequest

#### Properties

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: SignUpOptions;
```

---

### SignInOTPEmailVerifyRequest

#### Properties

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### otp

```ts
otp: string;
```

One time password

---

### SignInOTPEmailVerifyResponse

#### Properties

##### session?

```ts
optional session: Session;
```

User authentication session containing tokens and user information

---

### SignInPasswordlessEmailRequest

#### Properties

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: SignUpOptions;
```

---

### SignInPATRequest

#### Properties

##### personalAccessToken

```ts
personalAccessToken: string;
```

PAT

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

---

### SignInProviderParams

Parameters for the signInProvider method.

-

#### Param

Array of allowed roles for the user

-

#### Param

Default role for the user

-

#### Param

Display name for the user

-

#### Param

A two-characters locale

-

#### Param

Additional metadata for the user

-

#### Param

URI to redirect to

-

#### Param

If set, this means that the user is already authenticated and wants to link their account. This needs to be a valid JWT access token.

#### Properties

##### allowedRoles?

```ts
optional allowedRoles: string[];
```

Array of allowed roles for the user

##### connect?

```ts
optional connect: string;
```

If set, this means that the user is already authenticated and wants to link their account. This needs to be a valid JWT access token.

##### defaultRole?

```ts
optional defaultRole: string;
```

Default role for the user

##### displayName?

```ts
optional displayName: string;
```

Display name for the user

##### locale?

```ts
optional locale: string;
```

A two-characters locale

##### metadata?

```ts
optional metadata: Record<string, unknown>;
```

Additional metadata for the user

##### redirectTo?

```ts
optional redirectTo: string;
```

URI to redirect to

---

### SignInWebauthnRequest

#### Properties

##### email?

```ts
optional email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

---

### SignInWebauthnVerifyRequest

#### Properties

##### credential

```ts
credential: Record<string, unknown>;
```

##### email?

```ts
optional email: string;
```

A valid email. Deprecated, no longer used

- Example - "john.smith@nhost.io"
- Format - email

---

### SignOutSchema

#### Properties

##### all?

```ts
optional all: boolean;
```

Sign out from all connected devices

##### refreshToken

```ts
refreshToken: string;
```

Refresh token for the current session

---

### SignUpEmailPasswordRequest

Request to register a new user with email and password

#### Properties

##### email

```ts
email: string;
```

Email address for the new user account

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: SignUpOptions;
```

##### password

```ts
password: string;
```

Password for the new user account

- Example - "Str0ngPassw#ord-94|%"
- MinLength - 3
- MaxLength - 50

---

### SignUpOptions

#### Properties

##### allowedRoles?

```ts
optional allowedRoles: string[];
```

- Example - ["me","user"]

##### defaultRole?

```ts
optional defaultRole: string;
```

- Example - "user"

##### displayName?

```ts
optional displayName: string;
```

- Example - "John Smith"
- Pattern - ^[\p{L}\p{N}\p{S} ,.'-]+$
- MaxLength - 32

##### locale?

```ts
optional locale: string;
```

A two-characters locale

- Example - "en"
- MinLength - 2
- MaxLength - 2

##### metadata?

```ts
optional metadata: Record<string, unknown>;
```

- Example - {"firstName":"John","lastName":"Smith"}

##### redirectTo?

```ts
optional redirectTo: string;
```

- Example - "https://my-app.com/catch-redirection"
- Format - uri

---

### SignUpWebauthnRequest

#### Properties

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: SignUpOptions;
```

---

### TotpGenerateResponse

Response containing TOTP setup information for MFA

#### Properties

##### imageUrl

```ts
imageUrl: string;
```

URL to QR code image for scanning with an authenticator app

- Example - "data:image/png;base64,iVBORw0KGg..."

##### totpSecret

```ts
totpSecret: string;
```

TOTP secret key for manual setup with an authenticator app

- Example - "ABCDEFGHIJK23456"

---

### User

User profile and account information

#### Properties

##### avatarUrl

```ts
avatarUrl: string;
```

URL to the user's profile picture

- Example - "https://myapp.com/avatars/user123.jpg"

##### createdAt

```ts
createdAt: string;
```

Timestamp when the user account was created

- Example - "2023-01-15T12:34:56Z"
- Format - date-time

##### defaultRole

```ts
defaultRole: string;
```

Default authorization role for the user

- Example - "user"

##### displayName

```ts
displayName: string;
```

User's display name

- Example - "John Smith"

##### email?

```ts
optional email: string;
```

User's email address

- Example - "john.smith@nhost.io"
- Format - email

##### emailVerified

```ts
emailVerified: boolean;
```

Whether the user's email has been verified

- Example - true

##### id

```ts
id: string;
```

Unique identifier for the user

- Example - "2c35b6f3-c4b9-48e3-978a-d4d0f1d42e24"
- Pattern - \b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b

##### isAnonymous

```ts
isAnonymous: boolean;
```

Whether this is an anonymous user account

- Example - false

##### locale

```ts
locale: string;
```

User's preferred locale (language code)

- Example - "en"
- MinLength - 2
- MaxLength - 2

##### metadata

```ts
metadata: Record<string, unknown>;
```

Custom metadata associated with the user

- Example - {"firstName":"John","lastName":"Smith"}

##### phoneNumber?

```ts
optional phoneNumber: string;
```

User's phone number

- Example - "+12025550123"

##### phoneNumberVerified

```ts
phoneNumberVerified: boolean;
```

Whether the user's phone number has been verified

- Example - false

##### roles

```ts
roles: string[];
```

List of roles assigned to the user

- Example - ["user","customer"]

---

### UserDeanonymizeRequest

#### Properties

##### connection?

```ts
optional connection: string;
```

Deprecated, will be ignored

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: SignUpOptions;
```

##### password?

```ts
optional password: string;
```

A password of minimum 3 characters

- Example - "Str0ngPassw#ord-94|%"
- MinLength - 3
- MaxLength - 50

##### signInMethod

```ts
signInMethod: UserDeanonymizeRequestSignInMethod;
```

Which sign-in method to use

---

### UserEmailChangeRequest

#### Properties

##### newEmail

```ts
newEmail: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: OptionsRedirectTo;
```

---

### UserEmailSendVerificationEmailRequest

#### Properties

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: OptionsRedirectTo;
```

---

### UserMfaRequest

Request to activate or deactivate multi-factor authentication

#### Properties

##### activeMfaType?

```ts
optional activeMfaType: UserMfaRequestActiveMfaType;
```

Type of MFA to activate. Use empty string to disable MFA.

- Example - "totp"

##### code

```ts
code: string;
```

Verification code from the authenticator app when activating MFA

- Example - "123456"

---

### UserPasswordRequest

#### Properties

##### newPassword

```ts
newPassword: string;
```

A password of minimum 3 characters

- Example - "Str0ngPassw#ord-94|%"
- MinLength - 3
- MaxLength - 50

##### ticket?

```ts
optional ticket: string;
```

Ticket to reset the password, required if the user is not authenticated

- Pattern - ^passwordReset\:.\*$

---

### UserPasswordResetRequest

#### Properties

##### email

```ts
email: string;
```

A valid email

- Example - "john.smith@nhost.io"
- Format - email

##### options?

```ts
optional options: OptionsRedirectTo;
```

---

### VerifyTicketParams

Parameters for the verifyTicket method.

-

#### Param

Ticket

- Ticket
-

#### Param

Type of the ticket. Deprecated, no longer used

- Type of the ticket
-

#### Param

Target URL for the redirect

- Target URL for the redirect

#### Properties

##### redirectTo

```ts
redirectTo: string;
```

Target URL for the redirect

- Target URL for the redirect

##### ticket

```ts
ticket: string;
```

Ticket

- Ticket

##### type?

```ts
optional type: TicketTypeQuery;
```

Type of the ticket. Deprecated, no longer used

- Type of the ticket

## Type Aliases

### ErrorResponseError

```ts
type ErrorResponseError =
  | "default-role-must-be-in-allowed-roles"
  | "disabled-endpoint"
  | "disabled-user"
  | "email-already-in-use"
  | "email-already-verified"
  | "forbidden-anonymous"
  | "internal-server-error"
  | "invalid-email-password"
  | "invalid-request"
  | "locale-not-allowed"
  | "password-too-short"
  | "password-in-hibp-database"
  | "redirectTo-not-allowed"
  | "role-not-allowed"
  | "signup-disabled"
  | "unverified-user"
  | "user-not-anonymous"
  | "invalid-pat"
  | "invalid-refresh-token"
  | "invalid-ticket"
  | "disabled-mfa-totp"
  | "no-totp-secret"
  | "invalid-totp"
  | "mfa-type-not-found"
  | "totp-already-active";
```

Error code identifying the specific application error

---

### IdTokenProvider

```ts
type IdTokenProvider = "apple" | "google";
```

---

### OKResponse

```ts
type OKResponse = "OK";
```

---

### RedirectToQuery

```ts
type RedirectToQuery = string;
```

Target URL for the redirect

---

### SignInProvider

```ts
type SignInProvider =
  | "apple"
  | "github"
  | "google"
  | "linkedin"
  | "discord"
  | "spotify";
```

---

### TicketQuery

```ts
type TicketQuery = string;
```

Ticket

---

### TicketTypeQuery

```ts
type TicketTypeQuery =
  | "emailVerify"
  | "emailConfirmChange"
  | "signinPasswordless"
  | "passwordReset";
```

Type of the ticket

---

### UserDeanonymizeRequestSignInMethod

```ts
type UserDeanonymizeRequestSignInMethod = "email-password" | "passwordless";
```

Which sign-in method to use

---

### UserMfaRequestActiveMfaType

```ts
type UserMfaRequestActiveMfaType = "totp" | "";
```

Type of MFA to activate. Use empty string to disable MFA.

## Functions

### createAPIClient()

```ts
function createAPIClient(
  baseURL: string,
  chainFunctions: ChainFunction[],
): Client;
```

#### Parameters

| Parameter        | Type                                         | Default value |
| ---------------- | -------------------------------------------- | ------------- |
| `baseURL`        | `string`                                     | `undefined`   |
| `chainFunctions` | [`ChainFunction`](fetch#chainfunction)[] | `[]`          |

#### Returns

[`Client`](#client)
